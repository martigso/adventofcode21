df %>% mutate_at("const", list(~ . + 1:10))
df %>% mutate_at(vars("const"), list(~ . + ))
df %>% mutate_at(vars("const"), list(~ . + ))
vars(starts_with("const"))
df %>% mutate_at(vars(starts_with("const")), list(~ . + ))
df %>% mutate_at(vars(starts_with("const")), list(mod = ~ . + ))
df %>% mutate_at(vars(starts_with("const")), list(mod = ~ . + 1))
df %>% mutate_at(vars(starts_with("const")), list(const2 = ~ . + 1,
const3 = ~ . + 2))
df <- data.frame(pos = data,
const = 1)
library(dplyr)
df %>% mutate_at(vars(starts_with("const")), list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df
library(ggplot2)
df <- data.frame(pos = data,
const = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df
df <- df %>% mutate_all(vars(starts_with("const")),
list(diff = ~ pos - .))
df %>% mutate_all(vars(starts_with("const")),
list(diff = ~ pos - .))
df <- df %>% mutate_all(vars(starts_with("const")),
list(diff = ~ . - pos))
df %>% mutate_all(vars(starts_with("const")),
list(diff = ~ . + 1))
df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ . + 1))
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ pos - .))
df
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
df
df <- data.frame(pos = data,
const = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
df
library(tidyr)
df <- df %>% pivot_longer(pos)
df
df <- df %>% pivot_longer(cols = starts_with("const_diff"))
df <- data.frame(pos = data,
const = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
library(tidyr)
df <- df %>% pivot_longer(cols = starts_with("const_diff"))
df
df <- df %>% pivot_longer(cols = starts_with("const_diff"),
names_to = "income")
df <- data.frame(pos = data,
const = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
library(tidyr)
df <- df %>% pivot_longer(cols = starts_with("const_diff"),
names_to = "income")
df
#########################
######### Day 7 #########
#########################
data <- scan("./data/day7.txt", sep = ",")
# data <- c(16,1,2,0,4,2,7,1,2,14)
# Part 1
holder <- numeric(range(data)[2])
names(holder) <- paste0("hpos_", 1:range(data)[2])
for(i in 1:range(data)[2]){
holder[i] <- sum(abs(data - i))
}
# Solution
holder[which.min(holder)]
plot(holder, 1:length(holder))
# Part 2
data <- c(16,1,2,0,4,2,7,1,2,14)
# dt_range <- range(data)[1]:range(data)[2]
holder <- numeric(range(data)[2]+1)
names(holder) <- paste0("hpos_", 0:range(data)[2])
test <- lapply(data, function(x){
tmp <- numeric(length(holder))
for(i in 1:length(holder)){
tmp[i] <- sum(1:abs(x - i))
}
return(tmp)
})
tmp <- numeric(length(test))
for(i in 1:length(test)){
tmp[i] <- sum(sapply(test, "[[", i))
}
min(tmp)
plot(tmp, 1:length(test))
library(ggplot2)
df <- data.frame(pos = data,
const = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
library(tidyr)
df
df %>% pivot_longer(cols = starts_with("const_diff"),
names_to = "income")
df %>% pivot_longer(cols = starts_with("const_diff"),
names_to = "income",values_to = "count")
df %>% pivot_longer(everything(),
names_to = "lol", values_to = "count")
df %>% pivot_longer("pos",
names_to = "lol", values_to = "count")
df %>% pivot_longer(everything(),
names_to = "lol", values_to = "count")
names_to = "lol", values_to = "count") %>% tail()
df %>% pivot_longer(everything(),
names_to = "lol", values_to = "count") %>% tail()
df %>% group_by(pos) %>% pivot_longer(everything(),
names_to = "lol", values_to = "count") %>% tail()
df %>% group_by(pos) %>% pivot_longer(everything(),
names_to = "lol", values_to = "count")
df %>% group_by(pos) %>% pivot_longer(everything(),
names_to = "pos", values_to = "count")
df %>% group_by(pos) %>% pivot_longer(vars(contains("diff"))),
names_to = "pos", values_to = "count")
df %>% group_by(pos) %>% pivot_longer(vars(contains("diff")),
names_to = "pos", values_to = "count")
df %>% group_by(pos) %>% pivot_longer(vars(contains("diff")))
df %>% pivot_longer(vars(contains("diff")))
df %>% pivot_longer(contains("diff"))
df %>% pivot_longer(contains("diff"),
names_to = "pos")
df %>% pivot_longer(contains("diff"),
names_to = "posen")
df %>% select(c("pos", contains("diff")))
df %>% select(c("pos", contains("diff"))) %>%
pivot_longer(contains("diff"),
names_to = "posen")
df <- data.frame(pos = data,
const1 = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
df
df %>% select(c("pos", contains("diff"))) %>%
pivot_longer(contains("diff"),
names_to = "posen")
df2 <- df %>% select(c("pos", contains("diff"))) %>%
pivot_longer(contains("diff"),
names_to = "posen")
ggplot(df2, aes(x = pos, y = value)) +
geom_point()
ggplot(df2, aes(x = pos, y = value)) +
geom_point() +
geom_smooth(method = "lm")
ggplot(df2, aes(x = pos, y = value)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x)
ggplot(df2, aes(x = pos, y = value)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = F)
ggplot(df2, aes(x = value, y = pos)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = F)
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F)
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F)
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = 1:10)
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = min(pos):max(pos))
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = seq(0, 100), 1)
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = seq(0, 100), 1) +
scale_y_continuous(breaks = seq(0, 100), 1)
df2
df2 %>% group_by(posen) %>%
summarise(value = sum(value))
df2 %>% group_by(pos) %>%
summarise(value = sum(value))
df2
df2 <- df %>% select(c("pos", contains("diff"))) %>%
pivot_longer(contains("diff"),
names_to = "posen")
df2 %>% group_by(pos) %>%
summarise(value = sum(value))
df2 %>% group_by(pos, posen) %>%
summarise(value = sum(value))
df2 <- df2 %>% group_by(pos, posen) %>%
summarise(value = sum(value))
ggplot(df2) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = seq(0, 100), 1) +
scale_y_continuous(breaks = seq(0, 100), 1)
df2
df2 <- df %>% select(c("pos", contains("diff"))) %>%
pivot_longer(contains("diff"),
names_to = "posen")
df2
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = seq(0, 100), 1) +
scale_y_continuous(breaks = seq(0, 100), 1)
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F)
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F)
#########################
######### Day 7 #########
#########################
data <- scan("./data/day7.txt", sep = ",")
# data <- c(16,1,2,0,4,2,7,1,2,14)
# Part 1
holder <- numeric(range(data)[2])
names(holder) <- paste0("hpos_", 1:range(data)[2])
for(i in 1:range(data)[2]){
holder[i] <- sum(abs(data - i))
}
# Solution
holder[which.min(holder)]
plot(holder, 1:length(holder))
# Part 2
# data <- c(16,1,2,0,4,2,7,1,2,14)
# dt_range <- range(data)[1]:range(data)[2]
holder <- numeric(range(data)[2]+1)
names(holder) <- paste0("hpos_", 0:range(data)[2])
test <- lapply(data, function(x){
tmp <- numeric(length(holder))
for(i in 1:length(holder)){
tmp[i] <- sum(1:abs(x - i))
}
return(tmp)
})
tmp <- numeric(length(test))
for(i in 1:length(test)){
tmp[i] <- sum(sapply(test, "[[", i))
}
min(tmp)
plot(tmp, 1:length(test))
library(ggplot2)
df <- data.frame(pos = data,
const1 = 1)
library(dplyr)
df <- df %>% mutate_at(vars(starts_with("const")),
list(const2 = ~ . + 1,
const3 = ~ . + 2,
const4 = ~ . + 3,
const5 = ~ . + 4,
const6 = ~ . + 5,
const7 = ~ . + 6,
const8 = ~ . + 7,
const9 = ~ . + 8,
const10 = ~ . + 9,
const11 = ~ . + 10))
df <- df %>% mutate_at(vars(starts_with("const")),
list(diff = ~ abs(pos - .)))
library(tidyr)
df2 <- df %>% select(c("pos", contains("diff"))) %>%
pivot_longer(contains("diff"),
names_to = "posen")
# df2 <- df2 %>% group_by(pos, posen) %>%
# summarise(value = sum(value))
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F)
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F)
df2 <- df2 %>% group_by(pos, posen) %>%
summarise(value = sum(value))
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F) +
scale_x_continuous(breaks = seq(0, 100), 1) +
scale_y_continuous(breaks = seq(0, 100), 1)
ggplot(df2, aes(group = posen)) +
geom_smooth(aes(x = pos, y = value), method = "lm", formula = y ~ x, se = F) +
geom_smooth(aes(y = pos, x = value), method = "lm", formula = y ~ x, se = F)
ggplot(NULL, aes(x = tmp, y = 1:length(holder)))
1:length(holder)
tmp
1:length(holder)
ggplot(NULL, aes(x = tmp, y = 1:length(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp))) +
geom_point()
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path()
min(tmp)
#########################
######### Day 7 #########
#########################
data <- scan("./data/day7.txt", sep = ",")
# data <- c(16,1,2,0,4,2,7,1,2,14)
# Part 1
holder <- numeric(range(data)[2])
names(holder) <- paste0("hpos_", 1:range(data)[2])
for(i in 1:range(data)[2]){
holder[i] <- sum(abs(data - i))
}
# Solution
holder[which.min(holder)]
plot(holder, 1:length(holder))
# Part 2
holder <- numeric(range(data)[2]+1)
names(holder) <- paste0("hpos_", 0:range(data)[2])
test <- lapply(data, function(x){
tmp <- numeric(length(holder))
for(i in 1:length(holder)){
tmp[i] <- sum(0:abs(x - i))
}
return(tmp)
})
tmp <- numeric(length(test))
for(i in 1:length(test)){
tmp[i] <- sum(sapply(test, "[[", i))
}
min(tmp)
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
annotate("text", x = min(tmp))
which.min(tmp)
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
annotate("text", x = min(tmp), y = which.min(tmp), label = "Her er jeg!")
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(y = min(tmp), yend = min(tmp), x = 0, xend = 2000)
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(y = min(tmp), yend = min(tmp), x = 0, xend = 20000)
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(y = min(tmp), yend = min(tmp), x = 0, xend = 20000))
min(tmp)
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = 20000))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = 400))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp))) +
geom_segment(aes(x = min(tmp), xend = 2000, y = which.min(tmp), yend = which.min(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp))) +
geom_segment(aes(x = min(tmp), xend = min(tmp) + 1000, y = which.min(tmp), yend = which.min(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp))) +
geom_segment(aes(x = min(tmp), xend = min(tmp) + 100000, y = which.min(tmp), yend = which.min(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp))) +
geom_segment(aes(x = min(tmp), xend = min(tmp) + 1000000, y = which.min(tmp), yend = which.min(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp))) +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp), yend = which.min(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp), y = 0, yend = which.min(tmp)), color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp), yend = which.min(tmp)), , color = "darkcyan")
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp),
y = 0, yend = which.min(tmp)),
color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp),
yend = which.min(tmp)),
color = "darkcyan") +
scale_x_continuous(limits = c(0, length(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp),
y = 0, yend = which.min(tmp)),
color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp),
yend = which.min(tmp)),
color = "darkcyan") +
scale_x_continuous(limits = c(0, max(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp),
y = 0, yend = which.min(tmp)),
color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp),
yend = which.min(tmp)),
color = "darkcyan") +
scale_x_continuous(limits = c(min(tmp), max(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp),
y = 0, yend = which.min(tmp)),
color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp),
yend = which.min(tmp)),
color = "darkcyan") +
scale_x_continuous(limits = c(min(tmp) - 50000, max(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp),
y = 0, yend = which.min(tmp)),
color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp),
yend = which.min(tmp)),
color = "darkcyan") +
scale_x_continuous(limits = c(min(tmp) - 5000000, max(tmp)))
ggplot(NULL, aes(x = tmp, y = 1:length(tmp), group = 1)) +
geom_path() +
geom_segment(aes(x = min(tmp), xend = min(tmp),
y = 0, yend = which.min(tmp)),
color = "darkcyan") +
geom_segment(aes(x = min(tmp), xend = max(tmp), y = which.min(tmp),
yend = which.min(tmp)),
color = "darkcyan") +
scale_x_continuous(limits = c(min(tmp) - 5000000, max(tmp))) +
theme_classic()
ggplot(NULL, aes(y = tmp, x = 1:length(tmp), group = 1)) +
geom_path()
